services:
  basic:
    build:
      context: basic
      args:
        - RUBY_TEST_VERSION
        - OPEN_TELEMETRY_SDK_TEST_VERSION
    environment:
      - OTEL_TRACES_SAMPLER
      - MAZE_RUNNER_API_KEY
      - MAZE_RUNNER_ENDPOINT

  bugsnag-errors:
    build:
      context: bugsnag-errors
      args:
        - RUBY_TEST_VERSION
    environment:
      - MAZE_RUNNER_API_KEY
      - MAZE_RUNNER_ENDPOINT
      - BUGSNAG_API_KEY
      - BUGSNAG_RELEASE_STAGE
      - BUGSNAG_PERFORMANCE_API_KEY
      - BUGSNAG_PERFORMANCE_RELEASE_STAGE
